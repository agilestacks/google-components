---
version: 1
kind: component
meta:
  name: cert-manager
  version: 1.3.1
  source:
    dir: components/cert-manager

requires:
- helm
provides:
- cert-manager

parameters:
- name: projectId
  env: PROJECT
- name: dns.domain
  env: DOMAIN_NAME
- name: component.certmanager
  parameters:
  - name: version
    value: v1.3.1
    env: CHART_VERSION
  - name: namespace
    value: kube-system
    env: NAMESPACE
  - name: clusterIssuer
    value: "letsencrypt-superhub-io"
  - name: helm
    parameters:
    - name: repo
      value: https://charts.jetstack.io
      env: HELM_REPO
    - name: chart
      env: HELM_CHART
      value: "cert-manager"
    # - name: version
    #   value: v1.3.1
    #   env: CHART_VERSION

outputs:
- name: component.certmanager.clusterIssuer

templates:
  files:
    - "*.template"
